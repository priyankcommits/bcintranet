{{ define "content" }}
<div class="row">
  <div class="col s12 card">
    <ul class="tabs">
      <li class="tab col s6"><a class="blue-text" href="#metric-div">DISCIPLINED OPS</a></li>
      <li class="tab col s6"><a target="_self" class="blue-text" href="/bc/dailylogs/">DAILY LOGS</a></li>
    </ul>
  </div>
  <div id="metric-div" class="col s12 card">
    {{if eq .isadmin true }}
    <a class="right btn-floating btn-large waves-effect waves-light red" href="/admin/metrics/ops/add/"><i class="material-icons">add</i></a>
    {{end}}
    <div class="col s4">
      <div id="container" style=""></div>
    </div>
    <div class="col s4">
      <div id="container1" style=""></div>
    </div>
  </div>
</div>
{{ end }}
{{ define "script" }}
<script>
$(document).ready(function (){
  // setting nav bar heading
  $("#title-text").text("{ Metrics }");
  Highcharts.chart('container', {
    chart: {
      plotBackgroundColor: null,
      plotBorderWidth: null,
      plotShadow: false,
      type: 'pie'
    },
    title: {
      text: 'Disciplined Ops Timings Metric'
    },
    plotOptions: {
      pie: {
        allowPointSelect: true,
        cursor: 'pointer',
        dataLabels: {
          enabled: false
        },
        showInLegend: true
      }
    },
    series: [{
      name: 'Count',
      colorByPoint: true,
      data: [{
        name: 'At In time',
        y: parseInt({{.dayintimecount}}),
        sliced: true,
        selected: true
      }, {
        name: 'At Out Time',
        y: parseInt({{.dayouttimecount}}),
      },
      ]
    }]
  });
  Highcharts.chart('container1', {
    chart: {
      plotBackgroundColor: null,
      plotBorderWidth: null,
      plotShadow: false,
      type: 'pie'
    },
    title: {
      text: 'Disciplined Ops Timings Metric'
    },
    plotOptions: {
      pie: {
        allowPointSelect: true,
        cursor: 'pointer',
        dataLabels: {
          enabled: false
        },
        showInLegend: true
      }
    },
    series: [{
      name: 'Count',
      colorByPoint: true,
      data: [{
        name: 'At In time',
        y: parseInt({{.dayintimecount}}),
        sliced: true,
        selected: true
      }, {
        name: 'At Out Time',
        y: parseInt("{{.dayouttimecount}}"),
      },
      ]
    }]
  });
});
</script>
{{ end }}
